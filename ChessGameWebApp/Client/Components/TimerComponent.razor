@using ChessGame
@using System.Threading
@using ChessGameWebApp.Client.Models
@inject ChessBoard board
@inject TimeUpdater updater
@implements IChessObserver
@implements IDisposable

@code {
    [Parameter]
    public IPlayer Player { get; set; }

    private string ShowValue()
    {
        return $"{Player.Timer.Value:hh\\:mm\\:ss}";
    }

    protected override void OnInitialized()
    {
        ((IChessObservable)updater).Subscribe(this);
    }

    public void Update()
    {
        if (board.СhessСlock.IsGameOver())
            board.UpdateGameStatus();
            
        StateHasChanged();
    }

    public void Dispose()
    {
        ((IChessObservable)updater).Remove(this);
    }
}

<b>@ShowValue()</b>
