@using ChessGame
@using System.Threading
@inject ChessBoard board
@implements IDisposable

@code {
    [Parameter]
    public IPlayer Player { get; set; }
    private Timer timer;

    private string ShowValue()
    {
        return $"{Player.Timer.Value:hh\\:mm\\:ss}";
    }

    protected override void OnInitialized()
    {
        timer = new Timer((_) =>
            {
                InvokeAsync(()  =>
                {
                    if (board.СhessСlock.IsGameOver())
                        board.UpdateGameStatus();
                        
                    StateHasChanged();
                });
            }, null, 0, 1000);
    }

    public void Dispose()
    {
        timer.Dispose();
    }
}

<b>@ShowValue()</b>
